<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<meta name="author" content="psh"/>
<title>index</title>
<style>
*{ margin:0; padding:0; list-style:none;}
#ul1{ width:600px; height:600px; margin:30px auto; position:relative;}
#ul1 li{ width:150px; height:150px; border:1px solid #000; margin:10px; float:left;}
#ul1 li img{ width:100%; height:100%;}
</style>
<script src="js/move.js"></script>
<script>
window.onload = function(){
	var oUl = document.getElementById("ul1");
	var oBtn = document.getElementById("btn1");
	var aLi = oUl.children;
	var len = aLi.length;
	var aPos = [];
	for(var i=0; i<len; i++){
		aPos[i] = {"left":aLi[i].offsetLeft,"top":aLi[i].offsetTop};
		aLi[i].style.left = aPos[i].left + "px";
		aLi[i].style.top = aPos[i].top + "px";
	}
	for(var i=0; i<len; i++){
		aLi[i].style.position = "absolute";
		aLi[i].style.margin = 0;
	}
	var timer = null;
	oBtn.onclick = function(){
		var i = 0;
		clearInterval(timer);
		timer = setInterval(function(){
			(function(index){
				move(aLi[i],{"width":20,"height":20,"opacity":0,"left":0,"top":0},{
					complete:function(){
						if(index == len-1){
							i = len-1;
							clearInterval(timer);
							timer = setInterval(function(){
								move(aLi[i],{"left":aPos[i].left,top:aPos[i].top,width:150,height:150,opacity:1});
								i--;
								if(i == -1){
									clearInterval(timer);
								}
							},200);
						}
					}
				})
				i++;
				if(i == len){
					clearInterval(timer);
				}
			})(i);
		},200);
	};

}; 
</script>
</head>

<body>
<input id="btn1" type="button" value="收！">
<ul id="ul1">
	<li><img src="img/cat/1.jpg"/></li>
	<li><img src="img/cat/2.jpg"/></li>
	<li><img src="img/cat/3.jpg"/></li>
	<li><img src="img/cat/4.jpg"/></li>
	<li><img src="img/cat/5.jpg"/></li>
	<li><img src="img/cat/6.jpg"/></li>
	<li><img src="img/cat/7.jpg"/></li>
	<li><img src="img/cat/8.jpg"/></li>
	<li><img src="img/cat/9.jpg"/></li>	
</ul>
</body>
</html>